<div class="container mt-4">
    <button (click)="goBack()" class="btn btn-primary position-fixed top-0 end-0 m-3 shadow">
      <i class="bi bi-arrow-left me-1"></i>
      Regresar
    </button>
  <h2 class="text-center mb-4">Buscar Bicicletas por RUT</h2>

  <!-- Mensaje -->
  <div *ngIf="mensaje" class="alert alert-{{ mensajeTipo }} alert-dismissible fade show" role="alert">
    {{ mensaje }}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>

  <!-- Formulario de bÃºsqueda -->
  <form (ngSubmit)="buscarBicicletas()" class="d-flex flex-column flex-md-row justify-content-center gap-2 mb-4">
    <input
      type="text"
      class="form-control w-50 mx-auto"
      placeholder="Ingresa el RUT del estudiante"
      [(ngModel)]="rut"
      name="rut"
      required
    />
    <button type="submit" class="btn btn-primary">
      <i class="bi bi-search"></i> Buscar
    </button>
    <button type="button" class="btn btn-secondary" (click)="limpiar()">
      <i class="bi bi-x-circle"></i> Limpiar
    </button>
  </form>

  <!-- Cargando -->
  <div *ngIf="cargando" class="text-center">
    <div class="spinner-border text-primary" role="status"></div>
    <p>Buscando bicicletas...</p>
  </div>

  <!-- Resultados -->
  <div *ngIf="!cargando && bicicletas.length > 0" class="row row-cols-1 row-cols-md-2 g-3">
    <div class="col" *ngFor="let bici of bicicletas">
      <div class="card h-100 shadow-sm border-success">
        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
          <div>
            <i class="bi bi-bicycle me-2"></i>
            {{ bici.marca }} - {{ bici.modelo }}
          </div>
        </div>
        <div class="card-body">
          <p class="mb-2"><strong>Color:</strong> {{ bici.color }}</p>
          <p class="mb-2">
            <strong>Estacionamiento:</strong>
            <span class="badge bg-info text-dark">{{ bici.estacionamiento }}</span>
          </p>
          <p class="mb-0">
            <strong>Fecha Registro:</strong>
            <span class="text-primary fw-bold">
              {{ bici.fechaRegistro | date:'dd/MM/yyyy' }}
            </span>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Sin resultados -->
  <div *ngIf="!cargando && bicicletas.length === 0 && mensajeTipo === 'danger'" class="text-center text-muted mt-3">
    <i class="bi bi-bicycle fs-2"></i>
    <p>No se encontraron bicicletas para este RUT.</p>
  </div>
</div>
